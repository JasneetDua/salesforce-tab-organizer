<template>
    <template if:false={isLoading}>
        <div class="popup-container">
            <c-card card-title="Enable Organizer">
                    <div>
                        <c-switch-field field-name="enableOrganizer" is-checked={settings.enableOrganizer} onchange={handleFieldChange}></c-switch-field>
                    </div>
            </c-card>

            <template if:true={showExistingGroupsActions}>
                <c-card card-title="Grouped Tab Actions">
                    <div class="action">
                        <div class="action__item">
                            <c-button onclick={handleAction} data-action="ungroup">Ungroup Tabs</c-button>
                        </div>
                        <div class="action__item">
                            <c-button onclick={handleAction} data-action="close">Close Groups</c-button>
                        </div>
                    </div>
                </c-card>
            </template>
            <template if:true={settings.enableOrganizer}>
                <c-card card-title="Settings / Actions">
                    <div class="setting-field">
                        <div class="setting-field__label">Reorganize the tabs</div>
                        <div class="setting-field__input">
                            <c-button onclick={handleAction} data-action="refresh">Refresh</c-button>
                        </div>
                    </div>
                    <div class="setting-field">
                        <div class="setting-field__label">Ask Group Name</div>
                        <div class="setting-field__input">
                            <c-switch-field field-name="enableGroupNamePrompt" is-checked={settings.enableGroupNamePrompt} onchange={handleFieldChange}></c-switch-field>
                        </div>
                    </div>
                </c-card>
            </template>
        </div>
    </template>
    <c-card>
        <c-developer-info></c-developer-info>
    </c-card>
    <template if:true={isLoading}>
        <c-spinner></c-spinner>
    </template>
</template>